{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"./Banner.css\";// Optional CSS import for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatTime=seconds=>{const days=Math.floor(seconds/(24*3600));seconds%=24*3600;const hours=Math.floor(seconds/3600);seconds%=3600;const minutes=Math.floor(seconds/60);const secs=seconds%60;return{days,hours,minutes,secs};};const Banner=()=>{const[bannerData,setBannerData]=useState({description:\"\",timer:0,link:\"\",isVisible:false});useEffect(()=>{// Fetch the banner data from the backend\naxios.get(\"http://localhost:5000/api/banner\").then(response=>{setBannerData(response.data);}).catch(error=>{console.error(\"There was an error fetching the banner data!\",error);});},[]);useEffect(()=>{let countdown;if(bannerData.isVisible&&bannerData.timer>0){countdown=setInterval(()=>{setBannerData(prevState=>({...prevState,timer:prevState.timer-1}));},1000);}// Clear the interval when the timer reaches zero\nif(bannerData.timer<=0){clearInterval(countdown);}return()=>clearInterval(countdown);},[bannerData.timer,bannerData.isVisible]);const{days,hours,minutes,secs}=formatTime(bannerData.timer);if(!bannerData.isVisible||bannerData.timer<=0){return null;// Don't render the banner if it's not visible or timer has ended\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"banner\",children:[/*#__PURE__*/_jsx(\"p\",{children:bannerData.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"timer\",children:[\"Time remaining:\",\" \",days>0&&`${days} days `,hours>0&&`${hours} hours `,minutes>0&&`${minutes} minutes `,secs>0&&`${secs} seconds`]}),bannerData.link&&/*#__PURE__*/_jsx(\"a\",{href:bannerData.link,children:\"Learn More\"})]});};export default Banner;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","formatTime","seconds","days","Math","floor","hours","minutes","secs","Banner","bannerData","setBannerData","description","timer","link","isVisible","get","then","response","data","catch","error","console","countdown","setInterval","prevState","clearInterval","className","children","href"],"sources":["C:/Users/rajes/Desktop/Hackathon-code/client/src/Components/Banner.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./Banner.css\"; // Optional CSS import for styling\r\n\r\nconst formatTime = (seconds) => {\r\n  const days = Math.floor(seconds / (24 * 3600));\r\n  seconds %= 24 * 3600;\r\n  const hours = Math.floor(seconds / 3600);\r\n  seconds %= 3600;\r\n  const minutes = Math.floor(seconds / 60);\r\n  const secs = seconds % 60;\r\n\r\n  return { days, hours, minutes, secs };\r\n};\r\n\r\nconst Banner = () => {\r\n  const [bannerData, setBannerData] = useState({\r\n    description: \"\",\r\n    timer: 0,\r\n    link: \"\",\r\n    isVisible: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Fetch the banner data from the backend\r\n    axios\r\n      .get(\"http://localhost:5000/api/banner\")\r\n      .then((response) => {\r\n        setBannerData(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"There was an error fetching the banner data!\", error);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let countdown;\r\n\r\n    if (bannerData.isVisible && bannerData.timer > 0) {\r\n      countdown = setInterval(() => {\r\n        setBannerData((prevState) => ({\r\n          ...prevState,\r\n          timer: prevState.timer - 1,\r\n        }));\r\n      }, 1000);\r\n    }\r\n\r\n    // Clear the interval when the timer reaches zero\r\n    if (bannerData.timer <= 0) {\r\n      clearInterval(countdown);\r\n    }\r\n\r\n    return () => clearInterval(countdown);\r\n  }, [bannerData.timer, bannerData.isVisible]);\r\n\r\n  const { days, hours, minutes, secs } = formatTime(bannerData.timer);\r\n\r\n  if (!bannerData.isVisible || bannerData.timer <= 0) {\r\n    return null; // Don't render the banner if it's not visible or timer has ended\r\n  }\r\n\r\n  return (\r\n    <div className=\"banner\">\r\n      <p>{bannerData.description}</p>\r\n      <p className=\"timer\">\r\n        Time remaining:{\" \"}\r\n        {days > 0 && `${days} days `}\r\n        {hours > 0 && `${hours} hours `}\r\n        {minutes > 0 && `${minutes} minutes `}\r\n        {secs > 0 && `${secs} seconds`}\r\n      </p>\r\n      {bannerData.link && <a href={bannerData.link}>Learn More</a>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Banner;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}